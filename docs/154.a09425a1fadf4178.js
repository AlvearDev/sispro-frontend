(self.webpackChunkeklipse=self.webpackChunkeklipse||[]).push([[154],{2154:(C,N,f)=>{"use strict";f.r(N),f.d(N,{TokenValidateModule:()=>F});var I=f(6895),D=f(1951);function A(t,e,n,r,o,u,l){try{var m=t[u](l),x=m.value}catch(Oe){return void n(Oe)}m.done?e(x):Promise.resolve(x).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function l(x){A(u,r,o,l,m,"next",x)}function m(x){A(u,r,o,l,m,"throw",x)}l(void 0)})}}var d=f(4006),s=f(4650);f(4327),d.kI.pattern(/^[0-9]+$/),d.kI.pattern(/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/);function y(t,e,n="s",r){return{value:t,label:`${e}(${n})`,single:e,plural:r=r||`${e}${n}`}}function v(t){return typeof t<"u"&&null!==t}y(31536e6,"a\xf1o"),y(2592e6,"mes","es"),y(6048e5,"semana"),y(864e5,"d\xeda","s","dias"),y(36e5,"hora"),y(6e4,"minuto"),y(1e3,"segundo");class te extends Error{constructor(e,n){super(""),this._element=e,this._index=n}get element(){return this._element}get index(){return this._index}}class k{constructor(){}static build(e){return v(e)?this.of(e):this.empty()}static of(e){if(v(e))return new ge(e);throw new Error("The passed value was null or undefined.")}static empty(){return new pe}}class ge extends k{constructor(e){super(),this.value=e}isPresent(){return!0}isEmpty(){return!1}get(){return this.value}}class pe extends k{isPresent(){return!1}isEmpty(){return!0}get(){throw new Error("The optional is not present.")}}const ne=t=>{const{left:e,right:n}=t;if(v(n)&&v(e))throw new Error("Received both left and right values at runtime");if(v(e))return e;if(v(n))return n;throw new Error("Received no left or right values at runtime when opening Either")};class L{constructor(e){this.value=e}fold(e){return this._unwrap(e)}promise(e){return Promise.resolve(this.fold(e))}optional(e){return k.build(this.fold(e))}_unwrap(e){return v(this.value.right)&&e.right?e.right(ne(this.value)):(t=>v(this.value.left))()&&e.left?e.left(ne(this.value)):void 0}static left(e){return new L({left:e})}static right(e){return new L({right:e})}}class be{constructor(e){this._config=e}execute(e,n){return this._config.fetchToken(e,n)}}var Se=f(6805),Ee=f(930),xe=f(2340),Ae=f(529);class b{constructor(e){this._http=e,this.urlApi=xe.N.apiUrl}fetchToken(e,n){return function Fe(t,e){const n="object"==typeof e;return new Promise((r,o)=>{const u=new Ee.Hp({next:l=>{r(l),u.unsubscribe()},error:o,complete:()=>{n?r(e.defaultValue):o(new Se.K)}});t.subscribe(u)})}(this._http.get(`${this.urlApi}/${e}/${n}`))}}b.\u0275fac=function(e){return new(e||b)(s.LFG(Ae.eN))},b.\u0275prov=s.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});class S{constructor(e){this._config=e}execute(e,n){var r=this;return w(function*(){const o=new be(r._config);try{const u=yield o.execute(e,n);return L.right(u)}catch{return L.left(!1)}})()}}S.\u0275fac=function(e){return new(e||S)(s.LFG(b))},S.\u0275prov=s.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"});var _e=f(7009);let ke=(()=>{class t{constructor(n){this._snackBar=n}simpleNotification(n,r=5e3,o={}){this._generateMatToast(n,r,this._managePayload(o))}_generateMatToast(n,r,o){this._snackBar.open(n,`${o.hasDissmissButton?o.dissmissButtonMessage:""}`,{duration:r,panelClass:`mat-snackbar-${o.type}`})}_managePayload(n){return{hasDissmissButton:n.hasDissmissButton||!0,dissmissButtonMessage:n.dissmissButtonMessage||"Cerrar",horizontalPosition:n.horizontalPosition||"center",verticalPosition:n.verticalPosition||"bottom",type:n.type||"notification"}}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(_e.ux))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var re=f(5924),oe=f(4859);class O{constructor(e,n){this.fetchTokenController=e,this._toast=n,this.forms=new d.cw({nit:new d.NI(null),token:new d.NI(null)})}onSubmitValidateToken(){var e=this;return w(function*(){const{nit:n,token:r}=e.forms.value;(yield e.fetchTokenController.execute(n,r)).fold({left:()=>{e._toast.simpleNotification("El token no es valido")}})})()}}O.\u0275fac=function(e){return new(e||O)(s.Y36(S),s.Y36(ke))},O.\u0275cmp=s.Xpm({type:O,selectors:[["gcm-token-validate"]],decls:7,vars:2,consts:[[1,"ekl-auth__login-form",3,"formGroup","ngSubmit"],["appearance","outline","formControlName","nit"],["appearance","outline","formControlName","token"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,n){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return n.onSubmitValidateToken()}),s.TgZ(1,"gcm-text-field",1),s._uU(2," Nit "),s.qZA(),s.TgZ(3,"gcm-text-field",2),s._uU(4," Token "),s.qZA(),s.TgZ(5,"button",3),s._uU(6,"ENVIAR"),s.qZA()()),2&e&&(s.Q6J("formGroup",n.forms),s.xp6(5),s.Q6J("disabled",n.forms.invalid))},dependencies:[d._Y,d.JJ,d.JL,d.sg,d.u,re.hP,oe.lW],styles:[".ekl-auth__login-form[_ngcontent-%COMP%]{text-align:center;padding:20px}.ekl-auth__login-form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:bolder}"],changeDetection:0});const Le=[{path:"",component:O}];class E{}E.\u0275fac=function(e){return new(e||E)},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({imports:[D.Bz.forChild(Le),D.Bz]});class F{}F.\u0275fac=function(e){return new(e||F)},F.\u0275mod=s.oAB({type:F}),F.\u0275inj=s.cJS({imports:[I.ez,E,re.Yb,oe.ot]})},4327:function(C,N){var f,D;void 0!==(D="function"==typeof(f=function(){"use strict";function w(i,a,p){var c=new XMLHttpRequest;c.open("GET",i),c.responseType="blob",c.onload=function(){_(c.response,a,p)},c.onerror=function(){console.error("could not download file")},c.send()}function d(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function s(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var g="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,P=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=g.saveAs||("object"!=typeof window||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!P?function(i,a,p){var c=g.URL||g.webkitURL,h=document.createElement("a");h.download=a=a||i.name||"download",h.rel="noopener","string"==typeof i?(h.href=i,h.origin===location.origin?s(h):d(h.href)?w(i,a,p):s(h,h.target="_blank")):(h.href=c.createObjectURL(i),setTimeout(function(){c.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,p){if(a=a||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function A(i,a){return typeof a>"u"?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,p),a);else if(d(i))w(i,a,p);else{var c=document.createElement("a");c.href=i,c.target="_blank",setTimeout(function(){s(c)})}}:function(i,a,p,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof i)return w(i,a,p);var h="application/octet-stream"===i.type,$=/constructor/i.test(g.HTMLElement)||g.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||h&&$||P)&&typeof FileReader<"u"){var B=new FileReader;B.onloadend=function(){var T=B.result;T=R?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=T:location=T,c=null},B.readAsDataURL(i)}else{var U=g.URL||g.webkitURL,Y=U.createObjectURL(i);c?c.location=Y:location.href=Y,c=null,setTimeout(function(){U.revokeObjectURL(Y)},4e4)}});g.saveAs=_.saveAs=_,C.exports=_})?f.apply(N,[]):f)&&(C.exports=D)}}]);